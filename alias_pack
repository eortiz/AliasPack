# Aliases Pack Start
hlp(){
#- This Help Command
  if [ "$1x" != 'x' ]; then
    # Process help of certain file
    echo "Aliases Help";
    echo "#Processing: $1"
    filenamestr=$(find ~/aliaspak -name "alias_$1")
    echo "Help for $filenamestr"
    if [ -f "$filenamestr" ]; then
      cat $filenamestr | grep "()\|#-";
      cat $filenamestr | grep "alias" | awk 'i=index($0, "alias") {print substr($0, i+5)}' | more;
    else
      echo "File $filenamestr not found!!"
    fi
  else
    # Process help of all files as to be on source folder
    # because home does have more files
    for file in ~/aliaspak/alias_*
    do
      filename=$( basename "$file" )
      if [ ${filename} != 'alias_pack' ]; then
        echo "\n#Processing: $file"
        cat $file | grep "()\|#-";
        cat $file | grep "alias" | awk 'i=index($0, "alias") {print substr($0, i+5)}' | more;
      fi
    done
    echo "\n\n################################";
    echo "General Help";
    echo "For Specific alias help type hlp and the corresponding:";
    find ~/aliaspak/. -name "alias_*" | sed 's/.*\///';
  fi

}

# Source depending on os
echo "#Sourcing: alias_general"
source ~/aliaspak/alias_general
unameOut="$(uname -s)"
case "${unameOut}" in
    Linux*)
      machine=Linux
      echo "#Sourcing: alias_linux"
      source ~/aliaspak/alias_linux
      echo "#Sourcing: alias_docker"
      source ~/aliaspak/alias_docker
      echo "#Sourcing: alias_git"
      source ~/aliaspak/alias_git
    ;;
    Darwin*)
      machine=Mac
      echo "#Sourcing: alias_mac"
      source ~/aliaspak/alias_mac
      echo "#Sourcing: alias_docker"
      source ~/aliaspak/alias_docker
      echo "#Sourcing: alias_git"
      source ~/aliaspak/alias_git
    ;;
    CYGWIN*)
      machine=Cygwin;;
    MINGW*)
       machine=MinGw;;
    *)
       machine="UNKNOWN:${unameOut}"
esac
echo "Alias Pack Loaded for ${machine}"

# Load .env file if it exists (for environment variables and custom aliases)
if [ -f ~/aliaspak/.env ]; then
  echo "#Loading environment variables from ~/aliaspak/.env"
  source ~/aliaspak/.env

  # Source additional alias files if specified in ADDITIONAL_ALIASES
  if [ -n "$ADDITIONAL_ALIASES" ]; then
    echo "#Loading additional alias files (override mode)"
    for alias_file in $ADDITIONAL_ALIASES; do
      # Check if it's an absolute path or relative to ~/aliaspak/
      if [[ "$alias_file" = /* ]]; then
        # Absolute path
        if [ -f "$alias_file" ]; then
          echo "#Sourcing (override): $alias_file"
          source "$alias_file"
        else
          echo "#Warning: Additional alias file not found: $alias_file"
        fi
      else
        # Relative to ~/aliaspak/
        if [ -f ~/aliaspak/"$alias_file" ]; then
          echo "#Sourcing (override): ~/aliaspak/$alias_file"
          source ~/aliaspak/"$alias_file"
        else
          echo "#Warning: Additional alias file not found: ~/aliaspak/$alias_file"
        fi
      fi
    done
  fi
fi

